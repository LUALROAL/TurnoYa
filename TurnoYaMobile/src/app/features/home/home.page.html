<ion-header [translucent]="true">
  <ion-toolbar color="primary">
    <ion-title>Inicio</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-padding">
  <div class="home-container">
    <!-- Información del Usuario -->
    <ion-card>
      <ion-card-header>
        <ion-card-title>¡Bienvenido a TurnoYa!</ion-card-title>
      </ion-card-header>

      <ion-card-content>
        @if (currentUser) {
          <div>
            <p><strong>Usuario:</strong> {{ currentUser.firstName }} {{ currentUser.lastName }}</p>
            <p><strong>Email:</strong> {{ currentUser.email }}</p>
            <p><strong>Rol:</strong> {{ currentUser.role }}</p>
          </div>
        }
      </ion-card-content>
    </ion-card>

    <!-- Navegación a Módulos -->
    <div class="modules-section ion-margin-top">
      <h2>Módulos Disponibles</h2>

      <ion-grid>
        <!-- SIEMPRE: Buscar Negocios y Mis Citas (todos los roles) -->
        <ion-row>
          <ion-col size="12" size-md="6">
            <ion-card button (click)="navigateTo('/business/list')">
              <ion-card-header>
                <ion-icon name="business-outline" size="large" color="primary"></ion-icon>
                <ion-card-title>Buscar Negocios</ion-card-title>
              </ion-card-header>
              <ion-card-content>
                Explora negocios disponibles para agendar citas
              </ion-card-content>
            </ion-card>
          </ion-col>

          <ion-col size="12" size-md="6">
            <ion-card button (click)="navigateTo('/appointments/list')">
              <ion-card-header>
                <ion-icon name="calendar-outline" size="large" color="primary"></ion-icon>
                <ion-card-title>Mis Citas</ion-card-title>
              </ion-card-header>
              <ion-card-content>
                Gestiona tus citas agendadas
              </ion-card-content>
            </ion-card>
          </ion-col>
        </ion-row>

        <!-- SOLO BusinessOwner: Mis Negocios -->
        @if (isBusinessOwner) {
          <ion-row>
            <ion-col size="12" size-md="6">
              <ion-card button (click)="navigateTo('/business/form')">
                <ion-card-header>
                  <ion-icon name="business-outline" size="large" color="success"></ion-icon>
                  <ion-card-title>Crear Negocio</ion-card-title>
                </ion-card-header>
                <ion-card-content>
                  Registra un nuevo negocio y sus servicios
                </ion-card-content>
              </ion-card>
            </ion-col>
          </ion-row>
        }

        <!-- Perfil y Pagos (próximamente) -->
        <ion-row>
          <ion-col size="12" size-md="6">
            <ion-card button (click)="navigateTo('/profile')">
              <ion-card-header>
                <ion-icon name="person-outline" size="large" color="primary"></ion-icon>
                <ion-card-title>Mi Perfil</ion-card-title>
              </ion-card-header>
              <ion-card-content>
                Actualiza tu información y cambia de rol
              </ion-card-content>
            </ion-card>
          </ion-col>

          <ion-col size="12" size-md="6">
            <ion-card button disabled>
              <ion-card-header>
                <ion-icon name="card-outline" size="large" color="medium"></ion-icon>
                <ion-card-title>Pagos</ion-card-title>
              </ion-card-header>
              <ion-card-content>
                Administra tus métodos de pago (Próximamente)
              </ion-card-content>
            </ion-card>
          </ion-col>
        </ion-row>
      </ion-grid>
    </div>

    <!-- Botón de Cerrar Sesión -->
    <ion-button expand="block" color="danger" (click)="logout()" class="ion-margin-top">
      <ion-icon name="log-out-outline" slot="start"></ion-icon>
      Cerrar Sesión
    </ion-button>
  </div>
</ion-content>
